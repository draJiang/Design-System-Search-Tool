{"ast":null,"code":"import _classCallCheck from\"/Users/cc/Documents/\\u6C5F\\u5B50\\u9F99JiangZiLong/minpg/\\u6587\\u6863\\u641C\\u7D22\\u5DE5\\u5177_git/hellocc/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/cc/Documents/\\u6C5F\\u5B50\\u9F99JiangZiLong/minpg/\\u6587\\u6863\\u641C\\u7D22\\u5DE5\\u5177_git/hellocc/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/cc/Documents/\\u6C5F\\u5B50\\u9F99JiangZiLong/minpg/\\u6587\\u6863\\u641C\\u7D22\\u5DE5\\u5177_git/hellocc/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/cc/Documents/\\u6C5F\\u5B50\\u9F99JiangZiLong/minpg/\\u6587\\u6863\\u641C\\u7D22\\u5DE5\\u5177_git/hellocc/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{useRef,useEffect,useState}from\"react\";import\"./App.css\";import\"antd/dist/antd.css\";// or 'antd/dist/antd.less'\nimport{LinkOutlined}from\"@ant-design/icons\";import{Empty,Image,Tag}from\"antd\";import{Input,Space,List}from\"antd\";import{AudioOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=Input.Search;var Main=/*#__PURE__*/function(_React$PureComponent){_inherits(Main,_React$PureComponent);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.onSearch=function(value){if(value==\"\"){}else{document.documentElement.scrollTop=0;_this.setState({keyword:value});}};_this.state={info:{},keyword:\"\",data:[]};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// 获取 json 数据\nfetch(\"http://xxxxxx.com/my_json.json\").then(function(req){return req.json();}).then(function(req_json){_this2.setState({data:req_json[\"data\"]});});}},{key:\"render\",value:function render(){var listItems=[];console.log(\"render:\");// 存储待查数据\nvar my_data=[];my_data=this.state.data;var characters_Temp=\"\";var pageName_Temp=\"\";var tagColor=\"\";// 关键字\nvar kw=this.state.keyword;kw=kw.toString();var my_html=\"\";var link=\"\";if(kw==\"\"){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"SearchBox\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Search,{placeholder:\"\\u641C\\u7D22\\u6D3B\\u52A8\\u76F8\\u5173\\u7684\\u4EA4\\u4E92\\u3001\\u89C6\\u89C9\\u3001\\u52A8\\u753B\\u89C4\\u8303\",onSearch:this.onSearch.bind(),enterButton:true})})}),/*#__PURE__*/_jsx(\"ul\",{className:\"details logoBox\",children:/*#__PURE__*/_jsx(Image,{preview:false,width:200,src:\"http://cc.fp.ps.netease.com/file/622584f7370860322c8c0e32OUC3KxfL04\"})})]});}my_data.forEach(function(item,index){if(item.characters==undefined){item.characters=item;}if(item.characters.indexOf(kw)>-1||item.type==\"notion\"&&item.page_name.indexOf(kw)>-1){console.log(item);// 添加样式\ncharacters_Temp=item.characters.replace(new RegExp(kw,\"g\"),\"<b style=color:#fff;background:#F66375;>\"+kw+\"</b>\");pageName_Temp=item.page_name.replace(new RegExp(kw,\"g\"),\"<b style=color:#fff;background:#F66375;>\"+kw+\"</b>\");if(item.type==\"figma\"){link=\"https://www.figma.com/file/\"+item.file_key+\"/\"+\"?node-id=\"+item.node_id;tagColor=\"geekblue\";}else if(item.type==\"notion\"){link=\"https://www.notion.so/\"+item.node_id.replace(new RegExp(\"-\",\"g\"),\"\");tagColor=\"purple\";}my_html=/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Tag,{color:tagColor,children:item.file_name}),/*#__PURE__*/_jsx(\"span\",{children:\" - \"}),/*#__PURE__*/_jsx(\"span\",{className:\"page_name\",dangerouslySetInnerHTML:{__html:pageName_Temp}}),/*#__PURE__*/_jsx(\"a\",{target:\"_Blank\",href:link,children:/*#__PURE__*/_jsx(LinkOutlined,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list_content\",dangerouslySetInnerHTML:{__html:characters_Temp}},index)]});listItems.push(my_html);}});console.log(\"listItems.length:\");console.log(listItems.length);var req;if(listItems.length>0){req=/*#__PURE__*/_jsx(\"ul\",{className:\"details\",children:listItems});}else{req=/*#__PURE__*/_jsx(\"ul\",{className:\"details\",children:/*#__PURE__*/_jsx(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"SearchBox\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Search,{placeholder:\"\\u641C\\u7D22\\u6D3B\\u52A8\\u76F8\\u5173\\u7684\\u4EA4\\u4E92\\u3001\\u89C6\\u89C9\\u3001\\u52A8\\u753B\\u89C4\\u8303\",onSearch:this.onSearch.bind(),enterButton:true})})}),req]});}}]);return Main;}(React.PureComponent);function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Main,{})});}export default App;","map":{"version":3,"sources":["/Users/cc/Documents/江子龙JiangZiLong/minpg/文档搜索工具_git/hellocc/src/App.js"],"names":["React","useRef","useEffect","useState","LinkOutlined","Empty","Image","Tag","Input","Space","List","AudioOutlined","Search","Main","props","onSearch","value","document","documentElement","scrollTop","setState","keyword","state","info","data","fetch","then","req","json","req_json","listItems","console","log","my_data","characters_Temp","pageName_Temp","tagColor","kw","toString","my_html","link","bind","forEach","item","index","characters","undefined","indexOf","type","page_name","replace","RegExp","file_key","node_id","file_name","__html","push","length","PRESENTED_IMAGE_SIMPLE","PureComponent","App"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\n\nimport \"./App.css\";\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\nimport { LinkOutlined } from \"@ant-design/icons\";\nimport { Empty, Image, Tag } from \"antd\";\n\nimport { Input, Space, List } from \"antd\";\nimport { AudioOutlined } from \"@ant-design/icons\";\nconst { Search } = Input;\n\nclass Main extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      info: {},\n      keyword: \"\",\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    // 获取 json 数据\n    fetch(\"http://xxxxxx.com/my_json.json\")\n      .then((req) => req.json())\n      .then((req_json) => {\n        this.setState({\n          data: req_json[\"data\"],\n        });\n      });\n  }\n\n  onSearch = (value) => {\n    if (value == \"\") {\n    } else {\n\n      document.documentElement.scrollTop = 0\n\n      this.setState({\n        keyword: value,\n      });\n    }\n  };\n\n  render() {\n    let listItems = [];\n    console.log(\"render:\");\n\n    // 存储待查数据\n    let my_data = [];\n    my_data = this.state.data;\n\n    let characters_Temp = \"\";\n    let pageName_Temp = \"\";\n\n    let tagColor = \"\"\n\n    // 关键字\n    let kw = this.state.keyword;\n    kw = kw.toString();\n    let my_html = \"\";\n    let link = \"\";\n\n    if (kw == \"\") {\n      return (\n        <div>\n          <div className=\"SearchBox\">\n            <div>\n              <Search placeholder=\"搜索活动相关的交互、视觉、动画规范\" onSearch={this.onSearch.bind()} enterButton />\n            </div>\n          </div>\n\n          <ul className=\"details logoBox\">\n            <Image\n              preview={false}\n              width={200}\n              src=\"http://cc.fp.ps.netease.com/file/622584f7370860322c8c0e32OUC3KxfL04\"\n            />\n          </ul>\n        </div>\n      );\n    }\n\n    my_data.forEach((item, index) => {\n      if (item.characters == undefined) {\n        item.characters = item;\n      }\n\n      if (item.characters.indexOf(kw) > -1 || (item.type == \"notion\" && item.page_name.indexOf(kw) > -1)) {\n        console.log(item);\n\n        // 添加样式\n        characters_Temp = item.characters.replace(\n          new RegExp(kw, \"g\"),\n          \"<b style=color:#fff;background:#F66375;>\" + kw + \"</b>\"\n        );\n        pageName_Temp = item.page_name.replace(\n          new RegExp(kw, \"g\"),\n          \"<b style=color:#fff;background:#F66375;>\" + kw + \"</b>\"\n        );\n\n        if (item.type == \"figma\") {\n          link = \"https://www.figma.com/file/\" + item.file_key + \"/\" + \"?node-id=\" + item.node_id;\n          tagColor = \"geekblue\"\n        } else if (item.type == \"notion\") {\n          link = \"https://www.notion.so/\" + item.node_id.replace(new RegExp(\"-\", \"g\"), \"\");\n          tagColor = \"purple\"\n        }\n\n        my_html = (\n          <li>\n            <div className=\"header\">\n              <Tag color={tagColor}>{item.file_name}</Tag>\n              {/* <span className=\"file_name\">{item.file_name}</span> */}\n              <span> - </span>\n              <span className=\"page_name\" dangerouslySetInnerHTML={{ __html: pageName_Temp }}></span>\n              <a target=\"_Blank\" href={link}>\n                <LinkOutlined />\n              </a>\n            </div>\n\n            <div className=\"list_content\" key={index} dangerouslySetInnerHTML={{ __html: characters_Temp }}></div>\n          </li>\n        );\n        listItems.push(my_html);\n      }\n    });\n\n    console.log(\"listItems.length:\");\n    console.log(listItems.length);\n\n    let req;\n\n    if (listItems.length > 0) {\n      req = <ul className=\"details\">{listItems}</ul>;\n    } else {\n      req = (\n        <ul className=\"details\">\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n        </ul>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"SearchBox\">\n          <div>\n            <Search placeholder=\"搜索活动相关的交互、视觉、动画规范\" onSearch={this.onSearch.bind()} enterButton />\n          </div>\n        </div>\n\n        {req}\n      </div>\n    );\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}